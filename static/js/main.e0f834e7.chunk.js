(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(4),o=c.n(r),s=(c(16),c(3)),i=c(7),u=(c(17),c(18),c(1));var l=function(e){var t=e.onSubmit,c=Object(a.useState)(""),n=Object(s.a)(c,2),r=n[0],o=n[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===r.trim())return i.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0417\u0430\u043f\u0440\u043e\u0441");t(r),o("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},j=c(9),b=c(11),d=c.n(b),m=void 0,h="22901299-3a9abb112bfd753d84521cd93",O="https://pixabay.com/api/",f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,a="".concat(O,"?q=").concat(e,"&page=").concat(t,"&key=").concat(h,"&image_type=photo&orientation=horizontal&per_page=").concat(c);return fetch(a).then((function(e){return e.ok?e.json():Promise.reject(new Error("no results were found for your search ".concat(m.state.searchQuery)))})).then((function(e){return e.hits}))},g=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},p=c(10),v=c(2),x=c.n(v);function y(e){var t=e.webformatURL,c=e.largeImageURL,a=e.tags,n=e.onImageClick;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{onClick:function(e){n(e)},src:t,"data-src":c,alt:a,className:"ImageGalleryItem-image"})})}function S(e){var t=e.images,c=e.onImageClick;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)(y,Object(p.a)(Object(p.a)({},e),{},{onImageClick:c}))},e.id)}))})}function k(e){var t=e.onClick;return Object(u.jsx)("button",{type:"button",name:"Load more",className:"Button",onClick:t,children:Object(u.jsx)("span",{className:"lable",children:"Load more"})})}y.propTypes={images:x.a.arrayOf(x.a.shape({id:x.a.number.isRequired,webformatURL:x.a.string.isRequired,largeImageURL:x.a.string.isRequired,tags:x.a.string.isRequired}).isRequired),onImageClick:x.a.func.isRequired},k.propType={onClick:x.a.func.isRequired};var w=document.querySelector("#modal-root");var C=function(e){return Object(a.useEffect)((function(){function t(t){"Escape"===t.code&&e.onClose()}return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]),Object(r.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(t){t.currentTarget===t.target&&e.onClose()},children:Object(u.jsx)("div",{className:"Modal",children:e.children})}),w)};function N(){return Object(u.jsx)("h1",{style:{color:"#3f51b5"},children:"Enter Your Request"})}function I(){return Object(u.jsx)("h2",{style:{color:"tomato"},children:"No image has been found. Please enter a more specific query!"})}var R="idle",q="pending",E="resolved",L="rejected";var F=function(e){var t=e.searchQuery,c=Object(a.useState)(""),n=Object(s.a)(c,2),r=n[0],o=n[1],i=Object(a.useState)([]),l=Object(s.a)(i,2),b=l[0],m=l[1],h=Object(a.useState)(1),O=Object(s.a)(h,2),p=O[0],v=O[1],x=Object(a.useState)(!1),y=Object(s.a)(x,2),w=y[0],F=y[1],T=Object(a.useState)(null),U=Object(s.a)(T,2),G=U[0],P=U[1],Q=Object(a.useState)(R),B=Object(s.a)(Q,2),D=B[0],H=B[1],J=Object(a.useState)(!1),M=Object(s.a)(J,2),_=M[0],z=M[1],A=Object(a.useState)(""),Y=Object(s.a)(A,2),K=Y[0],V=Y[1],W=Object(a.useState)(""),X=Object(s.a)(W,2),Z=X[0],$=X[1];Object(a.useEffect)((function(){t&&(H(q),o(t),m([]),P(null),ee(t))}),[t]),Object(a.useEffect)((function(){t&&ee(r,p)}),[p]);var ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;f(e,t).then((function(e){m((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))})),F(!0),H(E),t>1&&g()})).catch((function(e){P(e),H(L)}))};return D===R?Object(u.jsx)(N,{}):D===q?Object(u.jsx)(d.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80}):D===L?Object(u.jsx)("h1",{children:G.message}):D===E&&b.length<1?Object(u.jsx)(I,{}):D===E?Object(u.jsxs)("div",{children:[Object(u.jsx)(S,{images:b,onImageClick:function(e){var t=e.target.dataset.src,c=e.target.alt;V(t),$(c),z(!0)}}),w&&Object(u.jsx)(k,{onClick:function(){v(p+1)}}),_&&Object(u.jsx)(C,{onClose:function(){z(!_)},children:Object(u.jsx)("img",{src:K,alt:Z,style:{maxHeight:"80vh",background:"white"}})})]}):void 0};var T=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{onSubmit:n}),Object(u.jsx)(F,{searchQuery:c}),Object(u.jsx)(i.a,{autoClose:3e3,theme:"colored"})]})};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e0f834e7.chunk.js.map